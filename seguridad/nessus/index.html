<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Nessus Essentials, una versión gratuita del escáner de vulnerabilidades Nessus de Tenable que permite escanear hasta 16 direcciones IP para encontrar fallos de seguridad en sistemas y redes. Es una herramienta para profesionales de ciberseguridad, educadores y estudiantes que desean realizar evaluaciones de vulnerabilidades de alta velocidad y en profundidad sin costo, aunque con algunas limitaciones en comparación con las versiones de pago.
Instalación y configuración inicial. Para descargarnos el paquete nos vamos a la página de Nessus:
" />
<meta name="keywords" content="homepage, blog, informatica, redes" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://pingamarina.vercel.app/seguridad/nessus/" />


    <title>
        
            Nessus Essentials :: Ping a Marina 
        
    </title>





  <link rel="stylesheet" href="/main.min.244183cde1a38e0b08f82c11791181288f9aac1cc9618cd6f4e9e7710c5768ba.css" integrity="sha256-JEGDzeGjjgsI&#43;CwReRGBKI&#43;arBzJYYzW9OnncQxXaLo=" crossorigin="anonymous">





    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="Nessus Essentials">
  <meta itemprop="description" content="Nessus Essentials, una versión gratuita del escáner de vulnerabilidades Nessus de Tenable que permite escanear hasta 16 direcciones IP para encontrar fallos de seguridad en sistemas y redes. Es una herramienta para profesionales de ciberseguridad, educadores y estudiantes que desean realizar evaluaciones de vulnerabilidades de alta velocidad y en profundidad sin costo, aunque con algunas limitaciones en comparación con las versiones de pago.
Instalación y configuración inicial. Para descargarnos el paquete nos vamos a la página de Nessus:">
  <meta itemprop="datePublished" content="2025-10-17T20:48:24+02:00">
  <meta itemprop="dateModified" content="2025-10-17T20:48:24+02:00">
  <meta itemprop="wordCount" content="1962">
  <meta itemprop="image" content="https://pingamarina.vercel.app/">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://pingamarina.vercel.app/">
  <meta name="twitter:title" content="Nessus Essentials">
  <meta name="twitter:description" content="Nessus Essentials, una versión gratuita del escáner de vulnerabilidades Nessus de Tenable que permite escanear hasta 16 direcciones IP para encontrar fallos de seguridad en sistemas y redes. Es una herramienta para profesionales de ciberseguridad, educadores y estudiantes que desean realizar evaluaciones de vulnerabilidades de alta velocidad y en profundidad sin costo, aunque con algunas limitaciones en comparación con las versiones de pago.
Instalación y configuración inicial. Para descargarnos el paquete nos vamos a la página de Nessus:">



    <meta property="og:url" content="https://pingamarina.vercel.app/seguridad/nessus/">
  <meta property="og:site_name" content="Ping a Marina">
  <meta property="og:title" content="Nessus Essentials">
  <meta property="og:description" content="Nessus Essentials, una versión gratuita del escáner de vulnerabilidades Nessus de Tenable que permite escanear hasta 16 direcciones IP para encontrar fallos de seguridad en sistemas y redes. Es una herramienta para profesionales de ciberseguridad, educadores y estudiantes que desean realizar evaluaciones de vulnerabilidades de alta velocidad y en profundidad sin costo, aunque con algunas limitaciones en comparación con las versiones de pago.
Instalación y configuración inicial. Para descargarnos el paquete nos vamos a la página de Nessus:">
  <meta property="og:locale" content="es">
  <meta property="og:type" content="article">
    <meta property="article:section" content="seguridad">
    <meta property="article:published_time" content="2025-10-17T20:48:24+02:00">
    <meta property="article:modified_time" content="2025-10-17T20:48:24+02:00">
    <meta property="og:image" content="https://pingamarina.vercel.app/">






    <meta property="article:published_time" content="2025-10-17 20:48:24 &#43;0200 CEST" />












    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                Inicio</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/bbdd">Bases de Datos</a></li><li><a href="/redes">Redes y Virtualización</a></li><li><a href="/seguridad">Seguridad</a></li><li><a href="/sistemas">Administración de Sistemas</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://pingamarina.vercel.app/seguridad/nessus/">Nessus Essentials</a></h2>

            
            
            

            <div class="post-content">
                <p>Nessus Essentials, una versión gratuita del escáner
de vulnerabilidades Nessus de Tenable que permite escanear hasta 16 direcciones IP
para encontrar fallos de seguridad en sistemas y redes. Es una herramienta para
profesionales de ciberseguridad, educadores y estudiantes que desean realizar
evaluaciones de vulnerabilidades de alta velocidad y en profundidad sin costo, aunque
con algunas limitaciones en comparación con las versiones de pago.</p>
<h2 id="instalación-y-configuración-inicial">Instalación y configuración inicial.</h2>
<p>Para descargarnos el paquete nos vamos a la página de <a href="https://www.tenable.com/downloads/nessus?loginAttempted=true">Nessus</a>:</p>
<p><img src="/images/seguridad/nessus1.png" alt="Nessus"></p>
<p>Una vez que tenemos el .deb lo instalamos con dpkg:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>debian@marina:~$ sudo dpkg -i Nessus-10.9.4.deb
</span></span></code></pre></div><p>Activamos el servicio y comprobamos que escucha por el puerto 8834 que es el de
nessus:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>debian@marina:~$ sudo systemctl start nessusd.service
</span></span><span style="display:flex;"><span>debian@marina:~$ sudo ss -tulnp | grep nessusd
</span></span><span style="display:flex;"><span>tcp   LISTEN <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">1024</span>                              0.0.0.0:8834      0.0.0.0:*    users:<span style="color:#f92672">((</span><span style="color:#e6db74">&#34;nessusd&#34;</span>,pid<span style="color:#f92672">=</span>1423,fd<span style="color:#f92672">=</span>18<span style="color:#f92672">))</span>                                                
</span></span><span style="display:flex;"><span>tcp   LISTEN <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">1024</span>                                 <span style="color:#f92672">[</span>::<span style="color:#f92672">]</span>:8834 <span style="color:#f92672">[</span>::<span style="color:#f92672">]</span>:*    users:<span style="color:#f92672">((</span><span style="color:#e6db74">&#34;nessusd&#34;</span>,pid<span style="color:#f92672">=</span>1423,fd<span style="color:#f92672">=</span>19<span style="color:#f92672">))</span>
</span></span></code></pre></div><p>Nos vamos al navegador para poder configurar Nessus:</p>
<p><img src="/images/seguridad/nessus2.png" alt="Nessus"></p>
<p>A continuación, nos ofrece una serie de opciones:</p>
<p><img src="/images/seguridad/nessus3.png" alt="Nessus"></p>
<p>En este caso, vamos a elegir Nessus Essentials, ya que es la versión gratuita para uso personal/educativo. La limitación que encontraremos será el número de IPs que se pueden escanear. Nos registramos:</p>
<p><img src="/images/seguridad/nessus4.png" alt="Nessus"></p>
<p>Una vez hecho esto, esperamos a que se descarguen todos los pluggins, y a continuación nos aparecerá la pantalla de incio de Nessus.</p>
<p><img src="/images/seguridad/nessus5.png" alt="Nessus"></p>
<h2 id="primer-escáner">Primer escáner.</h2>
<p>Si le damos a la opción de nuevo escaneo vemos que hay diversos tipos:</p>
<p><img src="/images/seguridad/nessus6.png" alt="Nessus"></p>
<h3 id="descubrimiento-de-hosts">Descubrimiento de hosts.</h3>
<p>El primer escáner que aparece es el de ‘Descubrimiento de host’. Este nos sirve para saber que hosts hay en mi red y es el primer paso para cualquier evaluación de vulnerabilidades.</p>
<p><img src="/images/seguridad/nessus7.png" alt="Nessus"></p>
<p>Al lanzar el escaneo de descubrimiento de hosts, vemos además de que hosts están en nuestra red, su información asociada, como la dirección IP, FQDN, sistemas operativos y puertos abiertos, si está disponible. Después de tener una lista de host, podemos elegir cual escanear:</p>
<p><img src="/images/seguridad/nessus8.png" alt="Nessus"></p>
<p>Si accedemos a la pestaña ‘vulnerabilities’:</p>
<p><img src="/images/seguridad/nessus9.png" alt="Nessus"></p>
<p><em>Settings</em>: Proporciona información sobre la configuración del escaneo. No detecta vulnerabilidades, sino que reporta detalles operativos del proceso de escaneo, como las opciones de configuración usadas.  El 5 indica que esto se aplica en los 5 hosts escaneados.</p>
<p><em>Port scanners</em>: Incluye plugins dedicados al escaneo de puertos para descubrir hosts activos y servicios abiertos. Ejemplos comunes son &ldquo;Nessus SYN Scanner&rdquo; (escaneo TCP SYN para puertos abiertos) o &ldquo;Nessus UDP Scanner&rdquo;. En esencia, Nessus envía paquetes a rangos de puertos para ver si responden, lo que ayuda a confirmar hosts vivos sin una conexión completa. El descubrimiento de hosts en Nessus depende en gran medida de escaneos de puertos (configurados en la sección &ldquo;Network Port Scanners&rdquo; de la política). Aparece como INFO porque reporta los resultados del escaneo de puertos (por ejemplo, puertos abiertos detectados), no vulnerabilidades.
Este plugin básicamente comprueba si mi host está activo en la red y lo hace mediante ping:</p>
<ul>
<li>Ping ARP: Funciona si el host está en la misma subred local y se usa Ethernet.</li>
<li>Ping ICMP: Ping clásico.</li>
<li>Ping TCP: Envía un paquete SYN a un puerto del host y espera a un SYN/ACK o RST.</li>
<li>Ping UDP: Prueba usando servicios UDP conocidos como DNS, RCP o NTP.</li>
</ul>
<h3 id="escaneo-de-un-host-descubierto">Escaneo de un host descubierto.</h3>
<p>Si nos vamos a la sección hosts del anterior escaneo, podemos seleccionar que host queremos escanear:</p>
<p><img src="/images/seguridad/10.png" alt="Nessus"></p>
<p>Se nos abre otra vez la lista de plantillas para seleccionar una. Tenable Nessus llena automáticamente la lista de Targets con los hosts que hemos seleccionado.
En este caso, vamos a seleccionar ‘Análisis de malware’.</p>
<p><img src="/images/seguridad/11.png" alt="Nessus"></p>
<p>Este tipo de escaneo necesita credenciales autenticadas para acceder al interior del host y buscar malware en archivos, registros o procesos. Sin ellas, Nessus no puede hacer un chequeo profundo y falla.
Lo primero será generar un par de claves en la maquina del servidor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nessus@debian:~/.ssh$ ssh-keygen 
</span></span><span style="display:flex;"><span>. . . 
</span></span><span style="display:flex;"><span>nessus@debian:~/.ssh$ ssh-copy-id -i nessus.pub marina@192.168.1.47
</span></span></code></pre></div><p>A continuación, añadimos credenciales.</p>
<p><img src="/images/seguridad/12.png" alt="Nessus"></p>
<p><img src="/images/seguridad/13.png" alt="Nessus"></p>
<p>Guardamos y probamos:</p>
<p><img src="/images/seguridad/14.png" alt="Nessus"></p>
<p><img src="/images/seguridad/15.png" alt="Nessus"></p>
<p>Ahora Nessus hizo un escaneo profundo (leyó directorios como /tmp, chequeó procesos, etc.), no solo superficial.
Se han detectado un total de 6 vulnerabilidades, todas calificadas como INFO (informativas, no críticas). En un escaneo de malware esto es común si no hay amenazas reales.
Port scanners: Nos da información de que puertos están abiertos. Nessus usa SSH para ejecutar comandos como netstat o ss directamente en mi máquina. No es una vulnerabilidad real, solo información sobre los puertos que están escuchando.
Puertos detectados:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Port 22/tcp was found to be open	→ SSH
</span></span><span style="display:flex;"><span>Port 53/udp was found to be open	Port 53/tcp was found to be open → DNS
</span></span><span style="display:flex;"><span>Port 67/udp was found to be open	→ DHCP
</span></span><span style="display:flex;"><span>Port 1521/tcp was found to be open		→ ORACLE
</span></span><span style="display:flex;"><span>Port 1716/udp was found to be open	 Port 1716/tcp was found to be open → KDE
</span></span><span style="display:flex;"><span>Port 5353/udp was found to be open	→ mDNS
</span></span><span style="display:flex;"><span>Port 5500/tcp was found to be open		→ HTTP
</span></span></code></pre></div><p>El resto de vulnerabilidades que aparecen en la lista nos proporcionan información como el hostname de la máquina, el FQDN.</p>
<h2 id="alertas-por-correo-electrónico">Alertas por correo electrónico.</h2>
<p>Nuestro objetivo es configurar alertas automáticas que nos lleguen directamente al correo electrónico.
Voy a usar Postfix para configurar el servidor de correo de Nessus. Para empezar Vamos a configurar la cerificación en dos pasos de nuestro correo:</p>
<p><img src="/images/seguridad/16.png" alt="Nessus"></p>
<p>Al meternos en ‘Gestionar tu cuenta de Google’, se nos abre una pestaña, donde nos podemos meter en el apartado de seguridad:</p>
<p><img src="/images/seguridad/17.png" alt="Nessus"></p>
<p>Una vez activada, vamos al buscador e introducimos ‘contraseña de aplicaciones’:</p>
<p><img src="/images/seguridad/18.png" alt="Nessus"></p>
<p><img src="/images/seguridad/19.png" alt="Nessus"></p>
<p><img src="/images/seguridad/20.png" alt="Nessus"></p>
<p>Nos genera una contraseña. Ahora instalamos postfix y lo configuramos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nessus@debian:~$ sudo apt install postfix -y
</span></span></code></pre></div><p><img src="/images/seguridad/21.png" alt="Nessus"></p>
<p>En este apartado introducimos el FQDN de nuestra máquina.</p>
<p><img src="/images/seguridad/22.png" alt="Nessus"></p>
<p>Una vez instalado podemos proceder a configurarlo, para ello modificaremos el archivo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>GNU nano 8.4                  /etc/postfix/main.cf   
</span></span><span style="display:flex;"><span>  GNU nano 8.4                                                                                                                                                                                                                                                                                                                                                                                                                                                                          /etc/postfix/main.cf *                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ==========================</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  CONFIGURACIÓN PRINCIPAL DE POSTFIX</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  Adaptado para usar el SMTP de Gmail</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  FQDN del servidor: nessus.org</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ==========================</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Nivel de compatibilidad (por defecto en versiones recientes de Postfix)</span>
</span></span><span style="display:flex;"><span>compatibility_level <span style="color:#f92672">=</span> 3.9
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Nombre completo (FQDN) del servidor</span>
</span></span><span style="display:flex;"><span>myhostname <span style="color:#f92672">=</span> nessus.org
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Dominio que aparecerá como origen de los correos salientes</span>
</span></span><span style="display:flex;"><span>myorigin <span style="color:#f92672">=</span> /etc/mailname
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Interfaces en las que Postfix escuchará (todas)</span>
</span></span><span style="display:flex;"><span>inet_interfaces <span style="color:#f92672">=</span> all
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Protocolos IP (soporta IPv4 e IPv6)</span>
</span></span><span style="display:flex;"><span>inet_protocols <span style="color:#f92672">=</span> all
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Máquinas de confianza (solo este host podrá enviar)</span>
</span></span><span style="display:flex;"><span>mynetworks_style <span style="color:#f92672">=</span> host
</span></span><span style="display:flex;"><span>mynetworks <span style="color:#f92672">=</span> 127.0.0.0/8 <span style="color:#f92672">[</span>::1<span style="color:#f92672">]</span>/128
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Destinos locales (dominios que este servidor considera propios)</span>
</span></span><span style="display:flex;"><span>mydestination <span style="color:#f92672">=</span> $myhostname, localhost.$mydomain, localhost
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># No limitar el tamaño del buzón (0 = ilimitado)</span>
</span></span><span style="display:flex;"><span>mailbox_size_limit <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Separador entre nombre de usuario y extensión (usuario+info@dominio)</span>
</span></span><span style="display:flex;"><span>recipient_delimiter <span style="color:#f92672">=</span> +
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Archivos de alias locales</span>
</span></span><span style="display:flex;"><span>alias_maps <span style="color:#f92672">=</span> hash:/etc/aliases
</span></span><span style="display:flex;"><span>alias_database <span style="color:#f92672">=</span> hash:/etc/aliases
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Desactivar notificaciones tipo &#34;biff&#34;</span>
</span></span><span style="display:flex;"><span>biff <span style="color:#f92672">=</span> no
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ==========================</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  CONFIGURACIÓN PARA ENVIAR CORREOS VIA GMAIL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ==========================</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Servidor SMTP de Gmail y su puerto (STARTTLS en 587)</span>
</span></span><span style="display:flex;"><span>relayhost <span style="color:#f92672">=</span> <span style="color:#f92672">[</span>smtp.gmail.com<span style="color:#f92672">]</span>:587
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Activar el uso de TLS</span>
</span></span><span style="display:flex;"><span>smtp_use_tls <span style="color:#f92672">=</span> yes
</span></span><span style="display:flex;"><span>smtp_tls_security_level <span style="color:#f92672">=</span> encrypt
</span></span><span style="display:flex;"><span>smtp_tls_CAfile <span style="color:#f92672">=</span> /etc/ssl/certs/ca-certificates.crt
</span></span><span style="display:flex;"><span>smtp_tls_session_cache_database <span style="color:#f92672">=</span> btree:<span style="color:#e6db74">${</span>data_directory<span style="color:#e6db74">}</span>/smtp_scache
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Activar autenticación SASL para Gmail</span>
</span></span><span style="display:flex;"><span>smtp_sasl_auth_enable <span style="color:#f92672">=</span> yes
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Archivo con usuario y contraseña (creado por ti en /etc/postfix/sasl_passwd)</span>
</span></span><span style="display:flex;"><span>smtp_sasl_password_maps <span style="color:#f92672">=</span> hash:/etc/postfix/sasl_passwd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Opciones de seguridad SASL</span>
</span></span><span style="display:flex;"><span>smtp_sasl_security_options <span style="color:#f92672">=</span> noanonymous
</span></span><span style="display:flex;"><span>smtp_sasl_tls_security_options <span style="color:#f92672">=</span> noanonymous
</span></span><span style="display:flex;"><span>smtp_sasl_mechanism_filter <span style="color:#f92672">=</span> plain, login
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ==========================</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  CONFIGURACIÓN DEL SERVIDOR LOCAL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ==========================</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Banner de presentación cuando alguien conecta por SMTP</span>
</span></span><span style="display:flex;"><span>smtpd_banner <span style="color:#f92672">=</span> $myhostname ESMTP $mail_name <span style="color:#f92672">(</span>Debian<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Nivel de seguridad TLS del servidor local (no afecta al envío)</span>
</span></span><span style="display:flex;"><span>smtpd_tls_security_level <span style="color:#f92672">=</span> may
</span></span><span style="display:flex;"><span>smtpd_tls_cert_file <span style="color:#f92672">=</span> /etc/ssl/certs/ssl-cert-snakeoil.pem
</span></span><span style="display:flex;"><span>smtpd_tls_key_file  <span style="color:#f92672">=</span> /etc/ssl/private/ssl-cert-snakeoil.key
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Restricciones básicas para el reenvío</span>
</span></span><span style="display:flex;"><span>smtpd_relay_restrictions <span style="color:#f92672">=</span> permit_mynetworks permit_sasl_authenticated defer_unauth_destination
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ==========================</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  FIN DEL ARCHIVO</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ==========================</span>
</span></span></code></pre></div><p>A continuación, editamos, o creamos si no existe, el siguiente archivo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nessus@debian:~$ sudo nano /etc/postfix/sasl_passwd
</span></span><span style="display:flex;"><span>  GNU nano 8.4                    /etc/postfix/sasl_passwd *                           
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>smtp.gmail.com<span style="color:#f92672">]</span>:587    marinagraciaontanilla@gmail.com:contraseña
</span></span></code></pre></div><p>En contraseña pondremos la contraseña de aplicación que se nos generó anteriormente. La contraseña aparece con espacios, en este fichero la colocamos sin espacios.
Guardamos el archivo y le cambiamos los permisos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nessus@debian:~$ sudo postmap /etc/postfix/sasl_passwd 
</span></span><span style="display:flex;"><span>nessus@debian:~$ sudo chmod <span style="color:#ae81ff">400</span> /etc/postfix/sasl_passwd
</span></span></code></pre></div><p>postmap es para convertir el archivo en un formato de base de datos que Postfix puede leer.
Reiniciamos postfix:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nessus@debian:~$ sudo systemctl restart postfix
</span></span></code></pre></div><p>Ahora pasamos a configurar el SMTP de nessus:</p>
<p><img src="/images/seguridad/23.png" alt="Nessus"></p>
<p>En el host tenemos que poner el nombre de nuestro host, ya que si ponemos localhost nos da un error. Para ello debemos hacer el siguiente cambio en el /etc/hosts:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> GNU nano 8.4                           /etc/hosts                                    
</span></span><span style="display:flex;"><span>127.0.0.1       nessus.org
</span></span><span style="display:flex;"><span>. . .
</span></span></code></pre></div><p>Puerto 25 porque Postfix escucha en ese puerto, que es el puerto estándar de SMTP. Esto es porque usamos Postfix local, si fuese gmail externo sería el 587.
En el correo debemos poner el que usamos en ‘/etc/postfix/sasl_passwd’.
Como Nessus habla con Postfix local, en encryption vamos a seleccionar NONE.
Hostname sirve para los enalces dentro de los emails.
En auth method no ponemos nada, ya que Postfix acepta mensajes desde localhost sin credenciales.
A continuación, he programado un nuevo escáner que se ha ejecutado, y al que he configurado para que cuando termine me notifique por correo.</p>
<p><img src="/images/seguridad/24.png" alt="Nessus"></p>
<p>Una vez finalizado el escáner, comprobamos nuestro correo:</p>
<p><img src="/images/seguridad/25.png" alt="Nessus"></p>
<p>El escaneo evalúa los servicios y puertos abiertos del equipo, identificando posibles fallos de configuración, software desactualizado y debilidades de seguridad que podrían ser explotadas por un atacante.
Nessus analiza estos elementos mediante plugins especializados, los cuales comparan las versiones de los servicios detectados con bases de datos de vulnerabilidades conocidas.
En este caso, el informe muestra un resumen con las vulnerabilidades más graves encontradas, clasificadas por nivel de severidad (Crítica, Alta, Media, Baja e Informativa).</p>
<h2 id="prueba-de-uso-en-red">Prueba de uso en red.</h2>
<p>Para hacer una prueba de uso en red, vamos a seleccionar varios hosts que me han aparecido en un nuevo escaneo de descubrimiento de hosts. He creado varias máquinas virtuales para poder ejecutar el escáner con credenciales SSH y poder realizarlo completo.</p>
<p><img src="/images/seguridad/26.png" alt="Nessus"></p>
<p>Copiamos la clave publica en las tres máquinas y creamos un escáner nuevo como hemos hecho anteriormente.
Vamos a elegir el siguiente escáner:</p>
<p><img src="/images/seguridad/27.png" alt="Nessus"></p>
<p>Y configuramos:</p>
<p><img src="/images/seguridad/28.png" alt="Nessus"></p>
<p><img src="/images/seguridad/29.png" alt="Nessus"></p>
<p>En el apartado “Dynamic Pluggins” podemos especificar la ID de vulnerabilidad que queremos que el escaneo busque.</p>
<p><img src="/images/seguridad/30.png" alt="Nessus"></p>
<p>Esta ID es una vulnerabilidad conocida en Log4j que permite la ejecución remota de un código. Como podemos ver Nessus tiene pluggins dedicados para detectarla. Guardamos y lanzamos el escaneo.
En la pestaña ‘schedule’ vamos a programarlo:</p>
<p><img src="/images/seguridad/31.png" alt="Nessus"></p>
<p>Nessus Essentials solo permite una única programación.
En la opción ‘Targets to prioritize credentials’ ponemos la ip de los hosts. Esto agiliza el proceso ya que no las busca, sino que se las indicamos.</p>
<p><img src="/images/seguridad/32.png" alt="Nessus"></p>
<p>Lo ideal sería programar también un escáner de puertos para saber que puertos están en la red.
Como en mi red no hay vulnerabilidades, solo nos da datos informativos:</p>
<p><img src="/images/seguridad/33.png" alt="Nessus"></p>
<h2 id="escáner-a-máquina-metasploitable">Escáner a máquina metasploitable.</h2>
<p>Mediante un escáner de DiscoveryHost encontramos la ip de nuestra metaspoitable:</p>
<p><img src="/images/seguridad/34.png" alt="Nessus"></p>
<p>Una vez tenemos la dirección, lanzamos un nuevo escáner para ver las vulnerabilidades. Configuramos servidor de correo, pluggins que no hacen falta los desactivamos para no cargar tanto el escáner y que sea más rápido:</p>
<p><img src="/images/seguridad/35.png" alt="Nessus"></p>
<p>Si accedemos a las vulnerabilidades, nos aparece un informe:</p>
<p><img src="/images/seguridad/36.png" alt="Nessus"></p>
<h3 id="informe">Informe.</h3>
<p>Podemos exportar los informes del escáner.</p>
<p><img src="/images/seguridad/37.png" alt="Nessus"></p>
<p>Nos genera informes según clasifica las vulnerabilidades.
Entre las más destacadas aparecen:</p>
<ul>
<li>Debilidad en el generador de números aleatorios de OpenSSH/OpenSSL (Debian), que compromete la fortaleza de las claves criptográficas.</li>
<li>Protocolos SSL 2.0 y 3.0 activos, que ya no son seguros y deben deshabilitarse.</li>
<li>Vulnerabilidad “Ghostcat” en Apache Tomcat, que permite la inyección de peticiones a través del conector AJP.</li>
<li>Puerta trasera detectada (Bind Shell Backdoor) que indica una posible intrusión.</li>
<li>Sistema operativo Ubuntu 8.04.x sin soporte (EoL), lo que lo hace vulnerable al no recibir actualizaciones.</li>
</ul>
<p>El host analizado (192.168.122.247) presenta un total de 172 vulnerabilidades, de las cuales 10 son críticas. El informe también incluye un apartado de remediaciones sugeridas, donde se recomiendan acciones para mitigar los riesgos detectados, como actualizar servicios (BIND, Samba), eliminar software malicioso o reinstalar aplicaciones comprometidas. En conjunto, este informe proporciona una visión general del estado de seguridad del sistema, permitiendo priorizar las correcciones necesarias para reducir la superficie de ataque.
Escaneo por pluggin:</p>
<p><img src="/images/seguridad/38.png" alt="Nessus"></p>
<p>Escaneo por hots:</p>
<p><img src="/images/seguridad/39.png" alt="Nessus"></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js" integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc&#43;cxaJzDdCYbAW0X1G&#43;DgZYvtKFXe6MBex8jUJ2JT25mQx&#43;YjACIng=="></script>




    </body>
</html>
